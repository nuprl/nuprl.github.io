<!DOCTYPE html>
<html lang="en">
  <head>

    <meta charset="utf-8">
    <title>PRL Blog (page 7)</title>
    <meta name="description" content="PRL Blog (page 7)">
    <meta name="author"      content="PRL">
    <meta name="keywords"    content="tutorials, closure conversion, HOPL, language, garbage collection, instrumentation, lang-extension, ocaml, event, by Li-Yao Xia, gradual typing, PLT Redex, by Milo Davis, announcement, coq, by Aaron Weiss, about, language implementation, semantics, compilers, CRDTs, math, ICFP, ghc, lost time, turnstile, Emacs, by Kevin Clancy, pliss, extended abstract, final encoding, by Matt Kolosick, lectures, dsl, FFI, by Ben Chung, galois connection, windows, PI meeting, by William J. Bowman, by Stephen Chang, System Administration, by Zeina Migeed, NEPLS, by Gabriel Scherer, beta, Takikawa constant, array language, by Ming-Ho Yee, java, by Dustin Jamner, dawn of the digital era, conference, by Ben Greenman, dear diary, 1st blog post, lambda, by Daniel Patterson, dynamic typing, compiler correctness, tutorial, PL Junior, observational equivalence, by Artem Pelenitsyn, icfp, books, by Asumu Takikawa, Gradual Typing, category theory, history, adjunction, haskell, by Tony Garnock-Jones, by Leif Andersen, types, by Julia Belyakova, by Jonathan Schuster, by Rob Kleffner, statistics, eventual consistency, bugs, monotonicity, coYoneda, calculus, by Jan Vitek, racket, migratory typing, Scribble, package, by Max New, performance, proceedings, all, by Justin Slepak, reduction, latency, Yoneda, Racket, constructions, benchmarking, by Sam Caldwell">
    <meta name="viewport"    content="width=device-width, initial-scale=1.0">
    <link rel="icon"      href="/img/favicon.ico">
    <link rel="canonical" href="http://prl.ccs.neu.edu/blog/index-7.html">


    <script type="text/javascript" async
            src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/css/pygments.css">
    <link rel="stylesheet" type="text/css" href="/css/custom.css">
    <link rel="stylesheet" type="text/css" href="/css/racket.css">
    <link rel="stylesheet" type="text/css" href="/css/scribble.css">
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml"
          href="/blog/feeds/all.atom.xml" title="Atom Feed">
    <link rel="alternate" type="application/rss+xml"
          href="/blog/feeds/all.rss.xml" title="RSS Feed">
  </head>
  <body id="pn-top" class="subpages">
    <nav class="navbar navbar-inverse">
      <div class="container">
        <div class="row">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li role="presentation"><a href="/">Home</a></li>
              <li role="presentation"><a href="/people.html">People</a></li>
              <li role="presentation"><a href="/teaching.html">Teaching</a></li>
              <li role="presentation"><a href="/seminars.html">Seminars</a></li>
              <li role="presentation"><a href="/software.html">Software</a></li>
              <li role="presentation"><a href="/publications.html">Publications</a></li>
              <li role="presentation"><a href="/new-members.html">New Members</a></li>
              <li role="presentation"><a href="/contact.html">Contact</a></li>
              <li role="presentation" class="active"><a href="/blog/index.html">Blog</a></li>
            </ul>
          </div><!--/.navbar-collapse -->
        </div>
      </div>
    </nav>
    <div class="jumbotron subpages">
      <div class="container">
        <div class="row">
          <a style="text-decoration:none; color:white" href="/blog/index.html">
            <div class="col-md-12">
              <h1>Inside PRL</h1>
              <p>Reading between the parentheses</p>
            </div>
          </a>
        </div>
      </div>
    </div>
    <div class="pn-main-wrapper">
      <div class="content">
        <div class="container">
          <div class="row">

            <!-- Main column -->
            <div id="content" class="col-md-12">



              <article>
  <header>
    <h2><a href='/blog/2016/08/03/a-few-cores-too-many/'>A few cores too many</a></h2>
    <p class='date-and-tags'>
<time datetime="2016-08-03" pubdate="true">2016-08-03</time> :: <span class="tags"><a href="/blog/tags/performance.html">performance</a>, <a href="/blog/tags/benchmarking.html">benchmarking</a>, <a href="/blog/tags/lost-time.html">lost time</a>, <a href="/blog/tags/by-Ben-Greenman.html">by Ben Greenman</a></span></p>
  </header>

<p>Performance matters for software systems, but performance is not always easy  to measure. At the PRL we recently had a scare with some unreliable measurements. Here is the story.</p>
  <footer>
    <a href='/blog/2016/08/03/a-few-cores-too-many/'>&hellip; more &hellip;</a>
  </footer>
</article>
<article>
  <header>
    <h2><a href='/blog/2016/08/02/tutorial-zero-to-sixty-in-racket/'>Tutorial: Zero to Sixty in Racket</a></h2>
    <p class='date-and-tags'>
<time datetime="2016-08-02" pubdate="true">2016-08-02</time> :: <span class="tags"><a href="/blog/tags/Racket.html">Racket</a>, <a href="/blog/tags/tutorial.html">tutorial</a>, <a href="/blog/tags/by-Ben-Greenman.html">by Ben Greenman</a></span></p>
  </header>

<p>Racket is excellent for incrementally growing scripts into full-fledged programs.
This post steps through the evolution of one small program and highlights the
 Racket tools that enable incremental advances.</p>
  <footer>
    <a href='/blog/2016/08/02/tutorial-zero-to-sixty-in-racket/'>&hellip; more &hellip;</a>
  </footer>
</article>
<article>
  <header>
    <h2><a href='/blog/2016/07/11/tutorial-racket-ffi-part-3/'>Tutorial: Racket FFI, part 3</a></h2>
    <p class='date-and-tags'>
<time datetime="2016-07-11" pubdate="true">2016-07-11</time> :: <span class="tags"><a href="/blog/tags/Racket.html">Racket</a>, <a href="/blog/tags/FFI.html">FFI</a>, <a href="/blog/tags/tutorial.html">tutorial</a>, <a href="/blog/tags/by-Asumu-Takikawa.html">by Asumu Takikawa</a></span></p>
  </header>

<p>This is part 3 of my tutorial for using the Racket FFI. You can find part 1
<a href="http://prl.ccs.neu.edu/blog/2016/06/27/tutorial-using-racket-s-ffi/">here</a>
and part 2
<a href="http://prl.ccs.neu.edu/blog/2016/06/29/tutorial-racket-ffi-part-2/">here</a>.</p>

<p>In this post, we will experiment with some low-level operations with pointers,
union types, and custom C types. The main takeaway will be the custom C types,
which let you define abstractions that hide the details of the C representation
when manipulating data in Racket.</p>
  <footer>
    <a href='/blog/2016/07/11/tutorial-racket-ffi-part-3/'>&hellip; more &hellip;</a>
  </footer>
</article>
<article>
  <header>
    <h2><a href='/blog/2016/06/29/tutorial-racket-ffi-part-2/'>Tutorial: Racket FFI, Part 2</a></h2>
    <p class='date-and-tags'>
<time datetime="2016-06-29" pubdate="true">2016-06-29</time> :: <span class="tags"><a href="/blog/tags/Racket.html">Racket</a>, <a href="/blog/tags/FFI.html">FFI</a>, <a href="/blog/tags/tutorial.html">tutorial</a>, <a href="/blog/tags/by-Asumu-Takikawa.html">by Asumu Takikawa</a></span></p>
  </header>

<p>This is part 2 of my tutorial on using the Racket FFI. If you haven&rsquo;t read
part 1 yet, you can find it
<a href="http://prl.ccs.neu.edu/blog/2016/06/27/tutorial-using-racket-s-ffi/">here</a>.
<span style="font-weight: bold">Update:</span> part 3 is also now available
<a href="http://prl.ccs.neu.edu/blog/2016/07/11/tutorial-racket-ffi-part-3/">here</a>.</p>

<p>Part 2 will continue with more Cairo examples. In this installment, I plan to
go over some more advanced FFI hacking such as handling computed argument
values, custom return arguments, and using C structs.</p>
  <footer>
    <a href='/blog/2016/06/29/tutorial-racket-ffi-part-2/'>&hellip; more &hellip;</a>
  </footer>
</article>
<article>
  <header>
    <h2><a href='/blog/2016/06/27/tutorial-using-racket-s-ffi/'>Tutorial: Using Racket&rsquo;s FFI</a></h2>
    <p class='date-and-tags'>
<time datetime="2016-06-27" pubdate="true">2016-06-27</time> :: <span class="tags"><a href="/blog/tags/Racket.html">Racket</a>, <a href="/blog/tags/FFI.html">FFI</a>, <a href="/blog/tags/tutorial.html">tutorial</a>, <a href="/blog/tags/by-Asumu-Takikawa.html">by Asumu Takikawa</a></span></p>
  </header>

<p><span style="font-weight: bold">Update:</span> this post is now part of a series. Part 2 is
<a href="http://prl.ccs.neu.edu/blog/2016/06/29/tutorial-racket-ffi-part-2/">here</a>
and part 3 is
<a href="http://prl.ccs.neu.edu/blog/2016/07/11/tutorial-racket-ffi-part-3/">here</a>.</p>

<p>I&rsquo;ve seen several people ask for a tutorial on Racket&rsquo;s foreign
function interface (FFI), which allows you to dynamically load
C libraries for use in Racket code. While I think the
<a href="http://docs.racket-lang.org/foreign/index.html">documentation</a>
for the FFI is quite good, it is a lot of information to process and
the overview examples may be tricky to run for a beginner.</p>

<p>With that in mind, this blog post will provide a step-by-step tutorial
for Racket&rsquo;s FFI that requires minimal setup. All that you will need to
follow along is a copy of Racket and ideally a DrRacket window.</p>
  <footer>
    <a href='/blog/2016/06/27/tutorial-using-racket-s-ffi/'>&hellip; more &hellip;</a>
  </footer>
</article>
<article>
  <header>
    <h2><a href='/blog/2016/06/13/does-anyone-still-care-about-printed-proceedings-grab-some-at-neu-this-week/'>Does anyone still care about printed proceedings? (Grab some at NEU this week!)</a></h2>
    <p class='date-and-tags'>
<time datetime="2016-06-13" pubdate="true">2016-06-13</time> :: <span class="tags"><a href="/blog/tags/proceedings.html">proceedings</a>, <a href="/blog/tags/dawn-of-the-digital-era.html">dawn of the digital era</a>, <a href="/blog/tags/by-Gabriel-Scherer.html">by Gabriel Scherer</a></span></p>
  </header>

<p>Are you interested in printed conference Proceedings? We have a good stack of them left away at Northeastern University (Boston, MA) and it seems that nobody wants them!</p>
  <footer>
    <a href='/blog/2016/06/13/does-anyone-still-care-about-printed-proceedings-grab-some-at-neu-this-week/'>&hellip; more &hellip;</a>
  </footer>
</article>
<article>
  <header>
    <h2><a href='/blog/2016/06/07/icfp-2016-looking-for-student-volunteers/'>ICFP 2016: looking for student volunteers</a></h2>
    <p class='date-and-tags'>
<time datetime="2016-06-07" pubdate="true">2016-06-07</time> :: <span class="tags"><a href="/blog/tags/ICFP.html">ICFP</a>, <a href="/blog/tags/by-Gabriel-Scherer.html">by Gabriel Scherer</a></span></p>
  </header>

<p>If you are a student, you should consider <a href="http://goo.gl/forms/fKg3vpjNryBlGWB32">applying</a> to become an ICFP 2016 student volunteer! The deadline for application is July 31st, 2016.</p>
  <footer>
    <a href='/blog/2016/06/07/icfp-2016-looking-for-student-volunteers/'>&hellip; more &hellip;</a>
  </footer>
</article>
<article>
  <header>
    <h2><a href='/blog/2016/05/24/measuring-gc-latencies-in-haskell-ocaml-racket/'>Measuring GC latencies in Haskell, OCaml, Racket</a></h2>
    <p class='date-and-tags'>
<time datetime="2016-05-24" pubdate="true">2016-05-24</time> :: <span class="tags"><a href="/blog/tags/garbage-collection.html">garbage collection</a>, <a href="/blog/tags/latency.html">latency</a>, <a href="/blog/tags/instrumentation.html">instrumentation</a>, <a href="/blog/tags/haskell.html">haskell</a>, <a href="/blog/tags/ghc.html">ghc</a>, <a href="/blog/tags/ocaml.html">ocaml</a>, <a href="/blog/tags/racket.html">racket</a>, <a href="/blog/tags/by-Gabriel-Scherer.html">by Gabriel Scherer</a></span></p>
  </header>

<p>James Fisher has a blog post on a case where GHC&rsquo;s runtime system imposed unpleasant latencies on their Haskell program:</p>

<blockquote>
 <p><a href="https://blog.pusher.com/latency-working-set-ghc-gc-pick-two/">Low latency, large working set, and GHC&rsquo;s garbage collector: pick two of three</a></p></blockquote>

<p>The blog post proposes a very simple, synthetic benchmark that exhibits the issue &mdash; basically, latencies incurred by copy time &mdash; with latencies of 50ms that are considered excessive. I thought it would be amusing to reproduce the synthetic benchmark in OCaml and Racket, to see how other GCs handle this.</p>

<p>Without further ado, the main take-away are as follows: the OCaml GC has no issue with large objects in its old generation, as it uses a mark&amp;sweep instead of copying collection, and exhibits less than 3ms worst-case pauses on this benchmark.</p>

<p>The Racket GC also does not copy the old generation, but its incremental GC is still in infancy (compared to the throughput-oriented settings which works well) so the results are less good. It currently suffer from a &ldquo;ramp-up&rdquo; effect that I will describe, that causes large pauses at the beginning of the benchmark (up to 120ms latency), but in its steady state the longest pause are around 22ms.</p>

<p>Please keep in mind that the original benchmark is designed to exercise a very specific workflow that exercises worst-case behavior for GHC&rsquo;s garbage collector. This does not mean that GHC&rsquo;s latencies are bad in general, or that the other tested languages have smaller latencies in general.</p>

<p>The implementations I use, with a Makefile encapsulating the logic for running and analyzing them, are available in a Gitlab repository:</p>

<ul>
 <li>git: <a href="https://gitlab.com/gasche/gc-latency-experiment.git">https://gitlab.com/gasche/gc-latency-experiment.git</a></li>
 <li>files: <a href="https://gitlab.com/gasche/gc-latency-experiment/tree/master">https://gitlab.com/gasche/gc-latency-experiment/tree/master</a></li></ul>
  <footer>
    <a href='/blog/2016/05/24/measuring-gc-latencies-in-haskell-ocaml-racket/'>&hellip; more &hellip;</a>
  </footer>
</article>
<article>
  <header>
    <h2><a href='/blog/2016/05/18/gradual-typing-across-the-spectrum/'>Gradual Typing Across the Spectrum</a></h2>
    <p class='date-and-tags'>
<time datetime="2016-05-18" pubdate="true">2016-05-18</time> :: <span class="tags"><a href="/blog/tags/gradual-typing.html">gradual typing</a>, <a href="/blog/tags/PI-meeting.html">PI meeting</a>, <a href="/blog/tags/by-Asumu-Takikawa.html">by Asumu Takikawa</a></span></p>
  </header>

<blockquote>
 <p>Instead of being Pythonistas, Rubyists, or Racketeers we have to be scientists. &mdash; Matthias Felleisen</p></blockquote>

<p>Yesterday we hosted a PI meeting for the <a href="http://prl.ccs.neu.edu/gtp/">Gradual Typing Across the Spectrum</a> NSF grant, gathering researchers from a number of institutions who work on gradual typing (the meeting program can be found <a href="http://prl.ccs.neu.edu/gtp/pi2016/pi2016.html">here</a>). In case you aren&rsquo;t familiar with gradual typing, the idea is to augment dynamically typed languages (think Python or Ruby) with static type annotations (as documentation, for debugging, or for tool support) that are guaranteed to be sound.</p>

<p>Gradual typing is these days a fairly popular area, but the research can seem fragmentary because of the need to support idiosyncratic language features. One of the points of the meeting was to encourage the cross-pollination of the key scientific ideas of gradual typing&mdash;the ideas that cross language and platform barriers.</p>
  <footer>
    <a href='/blog/2016/05/18/gradual-typing-across-the-spectrum/'>&hellip; more &hellip;</a>
  </footer>
</article>
<article>
  <header>
    <h2><a href='/blog/2016/05/03/nepls-on-may-31st-at-umass-amherst/'>NEPLS on May 31st at UMass, Amherst</a></h2>
    <p class='date-and-tags'>
<time datetime="2016-05-03" pubdate="true">2016-05-03</time> :: <span class="tags"><a href="/blog/tags/NEPLS.html">NEPLS</a>, <a href="/blog/tags/conference.html">conference</a>, <a href="/blog/tags/by-Gabriel-Scherer.html">by Gabriel Scherer</a></span></p>
  </header>

<p>It is my pleasure to relay the following announcement for the next edition of the New England Programming Language Seminer (NEPLS), to be held on Tuesday May 31st at UMass, Amherst, organized by Arjun Guha. Venez nombreux!</p>
  <footer>
    <a href='/blog/2016/05/03/nepls-on-may-31st-at-umass-amherst/'>&hellip; more &hellip;</a>
  </footer>
</article>
<footer>
 <ul class="pagination">
  <li class="page-item"><a class="page-link" href="/blog/index-6.html">
    <quote>&larr;</quote></a></li>
  <li class="page-item"><a class="page-link" href="/blog/index.html">1</a></li>
  <li class="page-item"><a class="page-link" href="/blog/index-2.html">2</a></li>
  <li class="page-item"><a class="page-link" href="/blog/index-3.html">3</a></li>
  <li class="page-item"><a class="page-link" href="/blog/index-4.html">4</a></li>
  <li class="page-item"><a class="page-link" href="/blog/index-5.html">5</a></li>
  <li class="page-item"><a class="page-link" href="/blog/index-6.html">6</a></li>
  <li class="page-item active"><a class="page-link" href="/blog/index-7.html">7</a></li>
  <li class="page-item"><a class="page-link" href="/blog/index-8.html">8</a></li>
  <li class="page-item"><a class="page-link" href="/blog/index-8.html">
    <quote>&rarr;</quote></a></li></ul></footer>
            </div>
          </div>
        </div>
        <footer class="footer">
          <hr />
          <p><a href="https://twitter.com/neu_prl"
                class="twitter-follow-button"
                data-show-count="false"
                data-lang="en">
               "Follow the PRL"
             </a>
             <script type="text/javascript">
               !function(d,s,id){
                   var js,fjs=d.getElementsByTagName(s)[0];
                   if(!d.getElementById(id)){
                       js=d.createElement(s);
                       js.id=id;
                       js.src="//platform.twitter.com/widgets.js";
                       fjs.parentNode.insertBefore(js,fjs);
                   }
               }(document,"script","twitter-wjs");
             </script></p>
          <p>Blog generated
          by <a href="https://github.com/greghendershott/frog">Frog</a>,
          using <a href="http://twitter.github.com/bootstrap/index.html">Bootstrap</a>.</p>
          <p>© Copyright Programming Research Laboratory 2015-2016 | made by <a href="http://www.catchexception.cz/" target="_blank">Catchexception s.r.o.</a> | source on <a href="https://github.com/nuprl/website">GitHub</a></p>
        </footer>
      </div>
    </div>
    <!-- </body> JS -->
    <script type="text/javascript" src="//code.jquery.com/jquery.min.js"></script>
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/js/custom.js"></script>
    <script type="text/javascript" src="/js/analytics.js"></script>
  </body>
</html>